# ============================================================
# TASK HANDOFF: HO-013 - Internationalization (i18n) Setup
# ============================================================
# From: A Session (Architect)
# To: B Session (Implementer)
# Created: 2026-01-15
# ============================================================

handoff_id: "HO-013"
design_state_version: "1.2.2"

# ============================================================
# Objective
# ============================================================
objective: "Add internationalization support to user-web (English, Chinese, Japanese)"

# ============================================================
# Context
# ============================================================
context: |
  The user-web app needs to support multiple languages:
  - English (en) - Default
  - Chinese Simplified (zh)
  - Japanese (ja)

  This task sets up the i18n infrastructure and translates all
  existing hardcoded text in the application.

# ============================================================
# Architecture Decision
# ============================================================
architecture:
  library: "react-i18next"
  rationale: |
    - Most popular i18n solution for React
    - Excellent TypeScript support
    - Namespace support for organized translations
    - Language detection and persistence
    - Interpolation support for dynamic values

  structure: |
    apps/user-web/src/
    â”œâ”€â”€ i18n/
    â”‚   â”œâ”€â”€ index.ts              # i18n configuration
    â”‚   â””â”€â”€ locales/
    â”‚       â”œâ”€â”€ en/
    â”‚       â”‚   â”œâ”€â”€ common.json   # Shared strings
    â”‚       â”‚   â”œâ”€â”€ auth.json     # Login/Register
    â”‚       â”‚   â”œâ”€â”€ dashboard.json # Dashboard page
    â”‚       â”‚   â”œâ”€â”€ settings.json  # Settings page
    â”‚       â”‚   â””â”€â”€ history.json   # History page
    â”‚       â”œâ”€â”€ zh/
    â”‚       â”‚   â””â”€â”€ (same structure)
    â”‚       â””â”€â”€ ja/
    â”‚           â””â”€â”€ (same structure)

# ============================================================
# Tasks
# ============================================================
tasks:
  - id: "TASK-013-1"
    title: "Install i18n dependencies"
    priority: "P0"
    commands:
      - "cd apps/user-web && npm install i18next react-i18next i18next-browser-languagedetector"

  - id: "TASK-013-2"
    title: "Create i18n configuration"
    priority: "P0"
    file: "apps/user-web/src/i18n/index.ts"
    skeleton: |
      /**
       * @file i18n configuration
       * @description Internationalization setup with react-i18next
       * @task TASK-013
       * @design_state_version 1.2.2
       */
      import i18n from 'i18next';
      import { initReactI18next } from 'react-i18next';
      import LanguageDetector from 'i18next-browser-languagedetector';

      // TODO(B): Import all translation files
      // Import format: import enCommon from './locales/en/common.json';

      // TODO(B): Define resources object with all namespaces
      // Structure:
      // const resources = {
      //   en: { common: enCommon, auth: enAuth, ... },
      //   zh: { common: zhCommon, auth: zhAuth, ... },
      //   ja: { common: jaCommon, auth: jaAuth, ... },
      // };

      i18n
        .use(LanguageDetector)
        .use(initReactI18next)
        .init({
          // TODO(B): Configure i18n
          // Requirements:
          // - resources: the resources object
          // - fallbackLng: 'en'
          // - defaultNS: 'common'
          // - ns: ['common', 'auth', 'dashboard', 'settings', 'history']
          // - interpolation: { escapeValue: false }
          // - detection: { order: ['localStorage', 'navigator'], caches: ['localStorage'] }
        });

      export default i18n;

  - id: "TASK-013-3"
    title: "Create English translation files"
    priority: "P0"
    files:
      - path: "apps/user-web/src/i18n/locales/en/common.json"
        content: |
          {
            "appName": "Solo Guardian",
            "loading": "Loading...",
            "error": "An error occurred",
            "retry": "Retry",
            "cancel": "Cancel",
            "save": "Save Changes",
            "saving": "Saving...",
            "nav": {
              "home": "Home",
              "history": "History",
              "settings": "Settings"
            },
            "greeting": {
              "morning": "Good morning!",
              "afternoon": "Good afternoon!",
              "evening": "Good evening!"
            },
            "time": {
              "today": "Today",
              "yesterday": "Yesterday"
            }
          }

      - path: "apps/user-web/src/i18n/locales/en/auth.json"
        content: |
          {
            "login": {
              "title": "Welcome back",
              "subtitle": "Sign in to your account to continue",
              "button": "Sign in",
              "loading": "Signing in...",
              "noAccount": "Don't have an account?",
              "signUp": "Sign up",
              "failed": "Login failed"
            },
            "register": {
              "title": "Create an account",
              "subtitle": "Enter your details to get started",
              "button": "Create account",
              "loading": "Creating account...",
              "hasAccount": "Already have an account?",
              "signIn": "Sign in",
              "failed": "Registration failed"
            },
            "fields": {
              "email": "Email",
              "emailPlaceholder": "you@example.com",
              "password": "Password",
              "passwordPlaceholder": "â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",
              "name": "Name",
              "namePlaceholder": "Your name",
              "confirmPassword": "Confirm Password"
            },
            "validation": {
              "emailInvalid": "Please enter a valid email",
              "passwordRequired": "Password is required",
              "passwordMinLength": "Password must be at least 8 characters",
              "confirmRequired": "Please confirm your password",
              "passwordMismatch": "Passwords do not match",
              "nameRequired": "Name is required"
            },
            "signOut": "Sign out",
            "signedIn": "Signed in"
          }

      - path: "apps/user-web/src/i18n/locales/en/dashboard.json"
        content: |
          {
            "status": {
              "safe": "You're safe today!",
              "checkedInAt": "Checked in at {{time}}",
              "deadline": "Deadline: {{time}}",
              "alreadyCheckedIn": "You've already checked in today",
              "tapToCheckIn": "Tap the button below to check in"
            },
            "button": {
              "checkIn": "Check In",
              "checkInNow": "Check In Now!",
              "checkingIn": "Checking in..."
            },
            "time": {
              "hoursMinutesOverdue": "{{hours}}h {{minutes}}m overdue",
              "hoursMinutesRemaining": "{{hours}}h {{minutes}}m remaining",
              "minutesOverdue": "{{minutes}}m overdue",
              "minutesRemaining": "{{minutes}}m remaining"
            },
            "note": {
              "placeholder": "Add a note (optional)",
              "addNote": "+ Add a note"
            },
            "error": {
              "loadFailed": "Failed to load status"
            }
          }

      - path: "apps/user-web/src/i18n/locales/en/settings.json"
        content: |
          {
            "title": "Settings",
            "checkIn": {
              "title": "Check-in Settings",
              "description": "Configure your daily check-in preferences",
              "deadline": "Daily Deadline",
              "reminder": "Reminder Time",
              "enableReminder": "Enable daily reminders"
            },
            "account": {
              "title": "Account",
              "description": "Manage your account settings"
            },
            "success": "Settings saved!",
            "error": {
              "loadFailed": "Failed to load settings"
            }
          }

      - path: "apps/user-web/src/i18n/locales/en/history.json"
        content: |
          {
            "title": "Check-in History",
            "empty": {
              "title": "No check-ins yet",
              "description": "Your check-in history will appear here"
            },
            "pagination": {
              "previous": "Previous",
              "next": "Next",
              "page": "Page {{page}} of {{total}}"
            },
            "error": {
              "loadFailed": "Failed to load history"
            }
          }

  - id: "TASK-013-4"
    title: "Create Chinese translation files"
    priority: "P0"
    files:
      - path: "apps/user-web/src/i18n/locales/zh/common.json"
        content: |
          {
            "appName": "ç‹¬å±…å®ˆæŠ¤",
            "loading": "åŠ è½½ä¸­...",
            "error": "å‘ç”Ÿé”™è¯¯",
            "retry": "é‡è¯•",
            "cancel": "å–æ¶ˆ",
            "save": "ä¿å­˜æ›´æ”¹",
            "saving": "ä¿å­˜ä¸­...",
            "nav": {
              "home": "é¦–é¡µ",
              "history": "å†å²",
              "settings": "è®¾ç½®"
            },
            "greeting": {
              "morning": "æ—©ä¸Šå¥½ï¼",
              "afternoon": "ä¸‹åˆå¥½ï¼",
              "evening": "æ™šä¸Šå¥½ï¼"
            },
            "time": {
              "today": "ä»Šå¤©",
              "yesterday": "æ˜¨å¤©"
            }
          }

      - path: "apps/user-web/src/i18n/locales/zh/auth.json"
        content: |
          {
            "login": {
              "title": "æ¬¢è¿å›æ¥",
              "subtitle": "ç™»å½•æ‚¨çš„è´¦æˆ·ä»¥ç»§ç»­",
              "button": "ç™»å½•",
              "loading": "ç™»å½•ä¸­...",
              "noAccount": "è¿˜æ²¡æœ‰è´¦æˆ·ï¼Ÿ",
              "signUp": "æ³¨å†Œ",
              "failed": "ç™»å½•å¤±è´¥"
            },
            "register": {
              "title": "åˆ›å»ºè´¦æˆ·",
              "subtitle": "è¾“å…¥æ‚¨çš„ä¿¡æ¯å¼€å§‹ä½¿ç”¨",
              "button": "åˆ›å»ºè´¦æˆ·",
              "loading": "åˆ›å»ºä¸­...",
              "hasAccount": "å·²æœ‰è´¦æˆ·ï¼Ÿ",
              "signIn": "ç™»å½•",
              "failed": "æ³¨å†Œå¤±è´¥"
            },
            "fields": {
              "email": "é‚®ç®±",
              "emailPlaceholder": "you@example.com",
              "password": "å¯†ç ",
              "passwordPlaceholder": "â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",
              "name": "å§“å",
              "namePlaceholder": "æ‚¨çš„å§“å",
              "confirmPassword": "ç¡®è®¤å¯†ç "
            },
            "validation": {
              "emailInvalid": "è¯·è¾“å…¥æœ‰æ•ˆçš„é‚®ç®±åœ°å€",
              "passwordRequired": "è¯·è¾“å…¥å¯†ç ",
              "passwordMinLength": "å¯†ç è‡³å°‘éœ€è¦8ä¸ªå­—ç¬¦",
              "confirmRequired": "è¯·ç¡®è®¤æ‚¨çš„å¯†ç ",
              "passwordMismatch": "ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´",
              "nameRequired": "è¯·è¾“å…¥å§“å"
            },
            "signOut": "é€€å‡ºç™»å½•",
            "signedIn": "å·²ç™»å½•"
          }

      - path: "apps/user-web/src/i18n/locales/zh/dashboard.json"
        content: |
          {
            "status": {
              "safe": "ä»Šå¤©å·²å®‰å…¨ç­¾åˆ°ï¼",
              "checkedInAt": "ç­¾åˆ°æ—¶é—´ï¼š{{time}}",
              "deadline": "æˆªæ­¢æ—¶é—´ï¼š{{time}}",
              "alreadyCheckedIn": "æ‚¨ä»Šå¤©å·²ç»ç­¾åˆ°äº†",
              "tapToCheckIn": "ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®è¿›è¡Œç­¾åˆ°"
            },
            "button": {
              "checkIn": "ç­¾åˆ°",
              "checkInNow": "ç«‹å³ç­¾åˆ°ï¼",
              "checkingIn": "ç­¾åˆ°ä¸­..."
            },
            "time": {
              "hoursMinutesOverdue": "å·²è¶…æ—¶ {{hours}}å°æ—¶{{minutes}}åˆ†é’Ÿ",
              "hoursMinutesRemaining": "å‰©ä½™ {{hours}}å°æ—¶{{minutes}}åˆ†é’Ÿ",
              "minutesOverdue": "å·²è¶…æ—¶ {{minutes}}åˆ†é’Ÿ",
              "minutesRemaining": "å‰©ä½™ {{minutes}}åˆ†é’Ÿ"
            },
            "note": {
              "placeholder": "æ·»åŠ å¤‡æ³¨ï¼ˆå¯é€‰ï¼‰",
              "addNote": "+ æ·»åŠ å¤‡æ³¨"
            },
            "error": {
              "loadFailed": "åŠ è½½çŠ¶æ€å¤±è´¥"
            }
          }

      - path: "apps/user-web/src/i18n/locales/zh/settings.json"
        content: |
          {
            "title": "è®¾ç½®",
            "checkIn": {
              "title": "ç­¾åˆ°è®¾ç½®",
              "description": "é…ç½®æ‚¨çš„æ¯æ—¥ç­¾åˆ°åå¥½",
              "deadline": "æ¯æ—¥æˆªæ­¢æ—¶é—´",
              "reminder": "æé†’æ—¶é—´",
              "enableReminder": "å¯ç”¨æ¯æ—¥æé†’"
            },
            "account": {
              "title": "è´¦æˆ·",
              "description": "ç®¡ç†æ‚¨çš„è´¦æˆ·è®¾ç½®"
            },
            "success": "è®¾ç½®å·²ä¿å­˜ï¼",
            "error": {
              "loadFailed": "åŠ è½½è®¾ç½®å¤±è´¥"
            }
          }

      - path: "apps/user-web/src/i18n/locales/zh/history.json"
        content: |
          {
            "title": "ç­¾åˆ°å†å²",
            "empty": {
              "title": "æš‚æ— ç­¾åˆ°è®°å½•",
              "description": "æ‚¨çš„ç­¾åˆ°å†å²å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ"
            },
            "pagination": {
              "previous": "ä¸Šä¸€é¡µ",
              "next": "ä¸‹ä¸€é¡µ",
              "page": "ç¬¬ {{page}} é¡µï¼Œå…± {{total}} é¡µ"
            },
            "error": {
              "loadFailed": "åŠ è½½å†å²å¤±è´¥"
            }
          }

  - id: "TASK-013-5"
    title: "Create Japanese translation files"
    priority: "P0"
    files:
      - path: "apps/user-web/src/i18n/locales/ja/common.json"
        content: |
          {
            "appName": "ã‚½ãƒ­ã‚¬ãƒ¼ãƒ‡ã‚£ã‚¢ãƒ³",
            "loading": "èª­ã¿è¾¼ã¿ä¸­...",
            "error": "ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ",
            "retry": "å†è©¦è¡Œ",
            "cancel": "ã‚­ãƒ£ãƒ³ã‚»ãƒ«",
            "save": "å¤‰æ›´ã‚’ä¿å­˜",
            "saving": "ä¿å­˜ä¸­...",
            "nav": {
              "home": "ãƒ›ãƒ¼ãƒ ",
              "history": "å±¥æ­´",
              "settings": "è¨­å®š"
            },
            "greeting": {
              "morning": "ãŠã¯ã‚ˆã†ã”ã–ã„ã¾ã™ï¼",
              "afternoon": "ã“ã‚“ã«ã¡ã¯ï¼",
              "evening": "ã“ã‚“ã°ã‚“ã¯ï¼"
            },
            "time": {
              "today": "ä»Šæ—¥",
              "yesterday": "æ˜¨æ—¥"
            }
          }

      - path: "apps/user-web/src/i18n/locales/ja/auth.json"
        content: |
          {
            "login": {
              "title": "ãŠã‹ãˆã‚Šãªã•ã„",
              "subtitle": "ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ãã ã•ã„",
              "button": "ãƒ­ã‚°ã‚¤ãƒ³",
              "loading": "ãƒ­ã‚°ã‚¤ãƒ³ä¸­...",
              "noAccount": "ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ãŠæŒã¡ã§ãªã„ã§ã™ã‹ï¼Ÿ",
              "signUp": "æ–°è¦ç™»éŒ²",
              "failed": "ãƒ­ã‚°ã‚¤ãƒ³ã«å¤±æ•—ã—ã¾ã—ãŸ"
            },
            "register": {
              "title": "ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ",
              "subtitle": "æƒ…å ±ã‚’å…¥åŠ›ã—ã¦å§‹ã‚ã¾ã—ã‚‡ã†",
              "button": "ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ",
              "loading": "ä½œæˆä¸­...",
              "hasAccount": "ã™ã§ã«ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ãŠæŒã¡ã§ã™ã‹ï¼Ÿ",
              "signIn": "ãƒ­ã‚°ã‚¤ãƒ³",
              "failed": "ç™»éŒ²ã«å¤±æ•—ã—ã¾ã—ãŸ"
            },
            "fields": {
              "email": "ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹",
              "emailPlaceholder": "you@example.com",
              "password": "ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰",
              "passwordPlaceholder": "â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",
              "name": "ãŠåå‰",
              "namePlaceholder": "ãŠåå‰ã‚’å…¥åŠ›",
              "confirmPassword": "ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç¢ºèª"
            },
            "validation": {
              "emailInvalid": "æœ‰åŠ¹ãªãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„",
              "passwordRequired": "ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„",
              "passwordMinLength": "ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯8æ–‡å­—ä»¥ä¸Šå¿…è¦ã§ã™",
              "confirmRequired": "ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ç¢ºèªã—ã¦ãã ã•ã„",
              "passwordMismatch": "ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒä¸€è‡´ã—ã¾ã›ã‚“",
              "nameRequired": "ãŠåå‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„"
            },
            "signOut": "ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ",
            "signedIn": "ãƒ­ã‚°ã‚¤ãƒ³ä¸­"
          }

      - path: "apps/user-web/src/i18n/locales/ja/dashboard.json"
        content: |
          {
            "status": {
              "safe": "ä»Šæ—¥ã¯å®‰å…¨ã§ã™ï¼",
              "checkedInAt": "ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³æ™‚åˆ»ï¼š{{time}}",
              "deadline": "ç· ã‚åˆ‡ã‚Šï¼š{{time}}",
              "alreadyCheckedIn": "ä»Šæ—¥ã¯ã™ã§ã«ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³æ¸ˆã¿ã§ã™",
              "tapToCheckIn": "ä¸‹ã®ãƒœã‚¿ãƒ³ã‚’ã‚¿ãƒƒãƒ—ã—ã¦ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³"
            },
            "button": {
              "checkIn": "ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³",
              "checkInNow": "ä»Šã™ããƒã‚§ãƒƒã‚¯ã‚¤ãƒ³ï¼",
              "checkingIn": "ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³ä¸­..."
            },
            "time": {
              "hoursMinutesOverdue": "{{hours}}æ™‚é–“{{minutes}}åˆ† è¶…é",
              "hoursMinutesRemaining": "æ®‹ã‚Š {{hours}}æ™‚é–“{{minutes}}åˆ†",
              "minutesOverdue": "{{minutes}}åˆ† è¶…é",
              "minutesRemaining": "æ®‹ã‚Š {{minutes}}åˆ†"
            },
            "note": {
              "placeholder": "ãƒ¡ãƒ¢ã‚’è¿½åŠ ï¼ˆä»»æ„ï¼‰",
              "addNote": "+ ãƒ¡ãƒ¢ã‚’è¿½åŠ "
            },
            "error": {
              "loadFailed": "ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸ"
            }
          }

      - path: "apps/user-web/src/i18n/locales/ja/settings.json"
        content: |
          {
            "title": "è¨­å®š",
            "checkIn": {
              "title": "ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³è¨­å®š",
              "description": "æ¯æ—¥ã®ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³è¨­å®šã‚’æ§‹æˆã—ã¾ã™",
              "deadline": "æ¯æ—¥ã®ç· ã‚åˆ‡ã‚Šæ™‚åˆ»",
              "reminder": "ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼æ™‚åˆ»",
              "enableReminder": "æ¯æ—¥ã®ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼ã‚’æœ‰åŠ¹ã«ã™ã‚‹"
            },
            "account": {
              "title": "ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ",
              "description": "ã‚¢ã‚«ã‚¦ãƒ³ãƒˆè¨­å®šã‚’ç®¡ç†ã—ã¾ã™"
            },
            "success": "è¨­å®šã‚’ä¿å­˜ã—ã¾ã—ãŸï¼",
            "error": {
              "loadFailed": "è¨­å®šã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸ"
            }
          }

      - path: "apps/user-web/src/i18n/locales/ja/history.json"
        content: |
          {
            "title": "ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³å±¥æ­´",
            "empty": {
              "title": "ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³è¨˜éŒ²ãŒã‚ã‚Šã¾ã›ã‚“",
              "description": "ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³å±¥æ­´ãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™"
            },
            "pagination": {
              "previous": "å‰ã¸",
              "next": "æ¬¡ã¸",
              "page": "{{page}} / {{total}} ãƒšãƒ¼ã‚¸"
            },
            "error": {
              "loadFailed": "å±¥æ­´ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸ"
            }
          }

  - id: "TASK-013-6"
    title: "Initialize i18n in main.tsx"
    priority: "P0"
    file: "apps/user-web/src/main.tsx"
    instruction: |
      Add import for i18n configuration at the top of main.tsx:

      import './i18n';

      This must be imported BEFORE App component.

  - id: "TASK-013-7"
    title: "Create LanguageSwitcher component"
    priority: "P0"
    file: "apps/user-web/src/components/ui/LanguageSwitcher.tsx"
    skeleton: |
      /**
       * @file LanguageSwitcher.tsx
       * @description Language selection dropdown component
       * @task TASK-013
       * @design_state_version 1.2.2
       */
      import { useTranslation } from 'react-i18next';
      import {
        Select,
        SelectContent,
        SelectItem,
        SelectTrigger,
        SelectValue,
      } from '@/components/ui/select';

      const languages = [
        { code: 'en', name: 'English', flag: 'ğŸ‡ºğŸ‡¸' },
        { code: 'zh', name: 'ä¸­æ–‡', flag: 'ğŸ‡¨ğŸ‡³' },
        { code: 'ja', name: 'æ—¥æœ¬èª', flag: 'ğŸ‡¯ğŸ‡µ' },
      ];

      /**
       * TODO(B): Implement LanguageSwitcher component
       *
       * Requirements:
       * - Show current language in SelectTrigger
       * - Display all languages in dropdown with flag + name
       * - On select, call i18n.changeLanguage(code)
       * - Language persists in localStorage (handled by i18n config)
       *
       * Acceptance:
       * - Dropdown shows current language
       * - Selecting language changes UI immediately
       * - Language persists after page refresh
       *
       * Constraints:
       * - Must have explicit return type JSX.Element
       * - Use shadcn/ui Select component
       */
      export function LanguageSwitcher(): JSX.Element {
        // TODO(B): Implement
        throw new Error('Not implemented - TODO(B)');
      }

  - id: "TASK-013-8"
    title: "Add LanguageSwitcher to Header"
    priority: "P0"
    file: "apps/user-web/src/components/layout/Header.tsx"
    instruction: |
      Add LanguageSwitcher component to the Header, positioned between
      the app title and the settings icon.

  - id: "TASK-013-9"
    title: "Update all components to use translations"
    priority: "P0"
    description: |
      Replace all hardcoded strings with useTranslation hook calls.

    pattern: |
      // Before:
      <h1>Welcome back</h1>

      // After:
      import { useTranslation } from 'react-i18next';

      function Component(): JSX.Element {
        const { t } = useTranslation('auth');
        return <h1>{t('login.title')}</h1>;
      }

      // For interpolation:
      // Before: `Checked in at ${time}`
      // After: t('status.checkedInAt', { time })

    files_to_update:
      - path: "apps/user-web/src/pages/auth/LoginPage.tsx"
        namespace: "auth"

      - path: "apps/user-web/src/pages/auth/RegisterPage.tsx"
        namespace: "auth"

      - path: "apps/user-web/src/pages/dashboard/DashboardPage.tsx"
        namespaces: ["common", "dashboard"]

      - path: "apps/user-web/src/components/check-in/CheckInButton.tsx"
        namespace: "dashboard"

      - path: "apps/user-web/src/components/check-in/StatusCard.tsx"
        namespace: "dashboard"

      - path: "apps/user-web/src/pages/settings/SettingsPage.tsx"
        namespaces: ["common", "settings", "auth"]

      - path: "apps/user-web/src/pages/dashboard/HistoryPage.tsx"
        namespaces: ["common", "history"]

      - path: "apps/user-web/src/components/history/HistoryItem.tsx"
        namespace: "common"

      - path: "apps/user-web/src/components/layout/Header.tsx"
        namespace: "common"

      - path: "apps/user-web/src/components/layout/MobileNav.tsx"
        namespace: "common"

# ============================================================
# Constraints
# ============================================================
constraints:
  - "All React components must have explicit JSX.Element return type"
  - "Use namespace-based translation keys (not flat keys)"
  - "All interpolation uses {{variable}} syntax"
  - "Translation files must be valid JSON"
  - "Keep translation keys short but descriptive"
  - "Do not hardcode any user-visible text"

# ============================================================
# Out of Scope
# ============================================================
out_of_scope:
  - "Right-to-left (RTL) language support"
  - "Backend API message translations"
  - "Date/number format localization (use browser locale)"
  - "Additional languages beyond en/zh/ja"

# ============================================================
# Acceptance Criteria
# ============================================================
acceptance_criteria:
  - "Language switcher appears in header"
  - "All UI text changes when language is switched"
  - "Selected language persists after page refresh"
  - "No hardcoded user-visible strings remain"
  - "TypeScript compiles without errors"
  - "App runs without runtime errors"

# ============================================================
# Testing Instructions
# ============================================================
testing:
  - step: "Start dev server"
    command: "cd apps/user-web && npm run dev"

  - step: "Test language switching"
    actions:
      - "Click language switcher in header"
      - "Select Chinese (ä¸­æ–‡)"
      - "Verify all text changes to Chinese"
      - "Refresh page - should remain in Chinese"
      - "Switch to Japanese - verify all text changes"
      - "Switch back to English - verify all text changes"

  - step: "Test all pages"
    actions:
      - "Visit /login - verify all text translated"
      - "Visit /register - verify all text translated"
      - "Login and visit / (dashboard) - verify all text translated"
      - "Visit /history - verify all text translated"
      - "Visit /settings - verify all text translated"

# ============================================================
# After Completion
# ============================================================
after_completion:
  - "Create IR-013 implementation report"
  - "C Session reviews for approval"
  - "Then proceed with TASK-012 (fix return types)"
