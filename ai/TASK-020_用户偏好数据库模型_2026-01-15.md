# TASK-020: 用户偏好数据库模型

## 概述

在 Prisma schema 中创建 UserPreferences 模型，用于存储用户功能开关和视觉偏好设置。

## 模型字段

### 基本信息
- `id` - UUID 主键
- `userId` - 用户 ID (一对一关系)

### 新功能行为
- `preferFeaturesOn` - 自动启用新功能 (默认 false)

### 视觉偏好
- `fontSize` - 字体大小 14-24 (默认 16)
- `highContrast` - 高对比度模式
- `reducedMotion` - 减少动画
- `warmColors` - 暖色调主题

### 核心功能开关
- `hobbyCheckIn` - 签到时选择爱好
- `familyAccess` - 家庭成员访问功能

### 灵活功能
- `optionalFeatures` - JSON 字段，用于存储可扩展的功能开关

### 引导
- `onboardingCompleted` - 是否完成引导

### 时间戳
- `createdAt` - 创建时间
- `updatedAt` - 更新时间

## 数据库迁移

```
migrations/20260115155516_add_user_preferences/migration.sql
```

## 关联更新

User 模型添加了 `preferences UserPreferences?` 关系。

## 验证

| 检查项 | 状态 |
|--------|------|
| Prisma 迁移 | ✅ 成功 |
| Prisma 客户端生成 | ✅ 成功 |
| TypeScript 编译 | ✅ 通过 |
